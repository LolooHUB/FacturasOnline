<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Facturador PRO | Final</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>
</head>
<body>
<div class="app-container">
    <header class="main-header">
        <h1>Facturador <span>PRO</span></h1>
        <p>Generador de Comprobantes Profesionales</p>
    </header>

    <div class="main-grid">
        <div class="card">
            <h3>üè¢ Configuraci√≥n y Cliente</h3>
            <div class="row">
                <div class="form-group"><label>Mi Empresa</label><input type="text" id="eNom"></div>
                <div class="form-group"><label>Mi CUIT</label><input type="text" id="eCuit"></div>
            </div>
            <div class="form-group"><label>Cobro (Alias/CBU)</label><input type="text" id="ePago"></div>
            <hr class="divider">
            <div class="form-group"><label>Cliente</label><input type="text" id="cNom" oninput="upd()"></div>
            <div class="row">
                <div class="form-group"><label>Tipo</label>
                    <select id="tipoF" onchange="upd()"><option value="C">Factura C</option><option value="A">Factura A</option><option value="B">Factura B</option></select>
                </div>
                <div class="form-group"><label>Fecha</label><input type="text" id="fecManual" oninput="upd()"></div>
            </div>
        </div>

        <div class="card">
            <h3>üì¶ Art√≠culos y Env√≠o</h3>
            <div id="items-container"></div>
            <button class="btn-add" onclick="addItem()">+ AGREGAR ART√çCULO</button>
            <div class="mt-20">
                <div class="form-group"><label>Email Destino</label><input type="email" id="email"></div>
                <div class="form-group"><label>WhatsApp</label><input type="tel" id="tel" placeholder="549..."></div>
            </div>
        </div>
    </div>

    <div class="grid-btns">
        <button onclick="enviar('mail')" class="btn btn-mail" id="btnM">üìß ENVIAR PDF POR MAIL</button>
        <button onclick="enviar('wa')" class="btn btn-wa">üü¢ WHATSAPP</button>
        <button onclick="copiarImagen()" class="btn btn-copy">üñºÔ∏è COPIAR IMAGEN</button>
    </div>

    <div class="preview-wrap">
        <h3>Vista Previa del Comprobante:</h3>
        <div id="preview-box">
            <div class="f-header-box">
                <div class="f-col">
                    <strong id="p-eNom">EMPRESA</strong><br>
                    CUIT: <span id="p-eCuit">...</span><br>
                    Responsable Monotributo
                </div>
                <div class="f-letra-box">
                    <div id="p-letra">C</div>
                    <small>COD. 11</small>
                </div>
                <div class="f-col" style="text-align: right;">
                    <strong>FACTURA</strong><br>
                    Fecha: <span id="p-fec"></span><br>
                    N¬∫ 0001-00000001
                </div>
            </div>
            <div class="f-client-section">
                <strong>Cliente:</strong> <span id="p-cNom">...</span><br>
                <strong>Condici√≥n IVA:</strong> Consumidor Final
            </div>
            <table class="f-table">
                <thead><tr><th>CANT</th><th>DESCRIPCI√ìN</th><th>UNIT</th><th>SUBTOTAL</th></tr></thead>
                <tbody id="p-items"></tbody>
            </table>
            <div class="f-total-box">TOTAL: <span id="p-tot">$ 0.00</span></div>
            <div class="f-pago-info"><strong>DATOS DE PAGO:</strong> <span id="p-pago">...</span></div>
        </div>
    </div>
</div>
<script src="script.js"></script>
</body>
</html>

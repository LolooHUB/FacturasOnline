<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Facturador PRO | Ultra Din√°mico</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>
</head>
<body>
<div class="app-container">
    <header class="main-header">
        <h1>Facturador <span>PRO</span></h1>
        <p>Generaci√≥n de Comprobantes Inteligentes</p>
    </header>
    <div class="main-grid">
        <div class="card">
            <h3>üè¢ Configuraci√≥n y Cliente</h3>
            <div class="row">
                <div class="form-group"><label>Mi Empresa</label><input type="text" id="eNom"></div>
                <div class="form-group"><label>Mi CUIT</label><input type="text" id="eCuit"></div>
            </div>
            <div class="form-group"><label>Cobro (CBU/Alias)</label><input type="text" id="ePago"></div>
            <hr style="border:0; border-top: 1px solid var(--border); margin: 15px 0;">
            <div class="form-group"><label>Cliente</label><input type="text" id="cNom" oninput="upd()"></div>
            <div class="row">
                <div class="form-group">
                    <label>Tipo</label>
                    <select id="tipoF" onchange="upd()"><option value="C">Factura C</option><option value="A">Factura A</option><option value="B">Factura B</option></select>
                </div>
                <div class="form-group"><label>Fecha</label><input type="text" id="fecManual" oninput="upd()"></div>
            </div>
        </div>
        <div class="card">
            <h3>üì¶ Detalle de Venta</h3>
            <div id="items-container"></div>
            <button class="btn-add" onclick="addItem()">+ AGREGAR ART√çCULO</button>
            <div class="mt-20">
                <div class="form-group"><label>Email Destino</label><input type="email" id="email"></div>
                <div class="form-group"><label>WhatsApp (Cod. Pa√≠s)</label><input type="tel" id="tel"></div>
            </div>
        </div>
    </div>
    <div class="grid-btns">
        <button onclick="enviar('mail')" class="btn btn-mail" id="btnM">üìß MAIL</button>
        <button onclick="enviar('wa')" class="btn btn-wa">üü¢ WHATSAPP</button>
        <button onclick="copiarImagen()" class="btn btn-copy">üñºÔ∏è IMAGEN</button>
    </div>
    <div class="preview-wrap">
        <div id="preview-box">
            <div class="f-header">
                <div style="flex: 2;"><h2 id="p-eNom">EMPRESA</h2><p>CUIT: <span id="p-eCuit">...</span></p></div>
                <div class="f-letra" id="p-letra">C</div>
                <div style="flex: 2; text-align: right;"><h2>FACTURA</h2><p>Fecha: <span id="p-fec"></span></p></div>
            </div>
            <div class="f-client-info"><strong>CLIENTE:</strong> <span id="p-cNom">...</span></div>
            <table class="f-table"><thead><tr><th>CANT</th><th>DESCRIPCI√ìN</th><th>UNIT</th><th style="text-align:right">SUBTOTAL</th></tr></thead><tbody id="p-items"></tbody></table>
            <div class="f-total">TOTAL: <span id="p-tot">$ 0.00</span></div>
            <div class="f-footer"><strong>PAGO:</strong> <span id="p-pago">...</span></div>
        </div>
    </div>
</div>
<script src="script.js"></script>
</body>
</html>

<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Facturador PRO | Final</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
</head>
<body>
<div class="app-container">
    <header class="main-header">
        <h1>Facturador <span>PRO</span></h1>
        <p>Generador de Comprobantes Profesionales</p>
    </header>

    <div class="main-grid">
        <div class="card">
            <h3>üè¢ Configuraci√≥n y Cliente</h3>
            <div class="row">
                <div class="form-group"><label>Mi Empresa</label><input type="text" id="eNom"></div>
                <div class="form-group"><label>Mi CUIT</label><input type="text" id="eCuit"></div>
            </div>
            <div class="form-group"><label>Cobro (Alias/CBU)</label><input type="text" id="ePago"></div>
            <hr class="divider">
            <div class="form-group"><label>Cliente</label><input type="text" id="cNom" oninput="upd()"></div>
            <div class="row">
                <div class="form-group"><label>Tipo</label>
                    <select id="tipoF" onchange="upd()"><option value="C">Factura C</option><option value="A">Factura A</option><option value="B">Factura B</option></select>
                </div>
                <div class="form-group"><label>Fecha</label><input type="text" id="fecManual" oninput="upd()"></div>
            </div>
        </div>

        <div class="card">
            <h3>üì¶ Art√≠culos y Env√≠o</h3>
            <div id="items-container"></div>
            <button class="btn-add" onclick="addItem()">+ AGREGAR ART√çCULO</button>
            <div class="mt-20">
                <div class="form-group"><label>Email Destino</label><input type="email" id="email"></div>
                <div class="form-group"><label>WhatsApp</label><input type="tel" id="tel" placeholder="549..."></div>
            </div>
        </div>
    </div>

    <div class="grid-btns">
        <button onclick="enviar('mail')" class="btn btn-mail" id="btnM">üìß ENVIAR POR MAIL</button>
        <button onclick="enviar('wa')" class="btn btn-wa">üü¢ WHATSAPP</button>
        <button onclick="copiarImagen()" class="btn btn-copy">üñºÔ∏è COPIAR IMAGEN</button>
    </div>

    <div class="preview-wrap">
        <h3>Vista Previa:</h3>
        <div id="preview-box">
            <div class="f-header">
                <div class="f-col">
                    <strong id="p-eNom">MI EMPRESA</strong><br>
                    <span id="p-condicion" style="font-size: 11px;">Comprobante de Venta</span><br>
                    <span style="font-size: 11px;">CUIT: <span id="p-eCuit">...</span></span>
                </div>
                <div class="f-letra">C</div>
                <div class="f-col" style="text-align: right;">
                    <strong>FACTURA</strong><br>
                    <span id="p-fec">--/--/----</span>
                </div>
            </div>
            <div class="f-receptor-line">
                <strong>Cliente:</strong> <span id="p-cNom">...</span>
            </div>
            <table class="f-table">
                <thead>
                    <tr><th>Cant</th><th>Descripci√≥n</th><th>Unit</th><th>Subtotal</th></tr>
                </thead>
                <tbody id="p-items"></tbody>
            </table>
            <div class="f-total">TOTAL: <span id="p-tot">$ 0</span></div>
            <div class="f-pago-box">
                TRANSFERIR A: <strong id="p-pago">...</strong>
            </div>
        </div>
    </div>
</div>
<script src="script.js"></script>
</body>
</html>
